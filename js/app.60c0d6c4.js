(function(){"use strict";var e={43:function(e,t,o){var s=o(3751),i=o(641);const a={id:"app"},n={key:0},r={class:"nav-links"};function l(e,t,o,s,l,c){const d=(0,i.g2)("router-link"),u=(0,i.g2)("router-view");return(0,i.uX)(),(0,i.CE)("div",a,[c.isSignInPage?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("header",n,[(0,i.Lk)("nav",null,[(0,i.Lk)("div",r,[(0,i.bF)(d,{to:"/",class:"nav-link"},{default:(0,i.k6)((()=>t[1]||(t[1]=[(0,i.eW)("Home")]))),_:1}),(0,i.bF)(d,{to:"/popular",class:"nav-link"},{default:(0,i.k6)((()=>t[2]||(t[2]=[(0,i.eW)("Popular")]))),_:1}),(0,i.bF)(d,{to:"/search",class:"nav-link"},{default:(0,i.k6)((()=>t[3]||(t[3]=[(0,i.eW)("Search")]))),_:1}),(0,i.bF)(d,{to:"/wishlist",class:"nav-link"},{default:(0,i.k6)((()=>t[4]||(t[4]=[(0,i.eW)("Wishlist")]))),_:1})]),(0,i.Lk)("button",{class:"icon-button",onClick:t[0]||(t[0]=(...e)=>c.goToSignIn&&c.goToSignIn(...e))},t[5]||(t[5]=[(0,i.Lk)("i",{class:"icon-user"},null,-1)]))])])),(0,i.bF)(u)])}o(4114);var c={name:"App",computed:{isSignInPage(){return this.$route.path.startsWith("/signin")}},methods:{goToSignIn(){this.$router.push("/signin")}}},d=o(6262);const u=(0,d.A)(c,[["render",l]]);var v=u,h=o(5220);function m(e,t,o,s,a,n){return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.handleKakaoLogin&&n.handleKakaoLogin(...e))},"Login with Kakao")])}var g={name:"SignIn",methods:{handleKakaoLogin(){window.Kakao.isInitialized()||(window.Kakao.init("YOUR_KAKAO_JAVASCRIPT_KEY"),console.log("Kakao SDK initialized")),window.Kakao.Auth.authorize({redirectUri:"http://localhost:3000/callback"})}}};const p=(0,d.A)(g,[["render",m]]);var k=p,f=o(33);const L={class:"home"},b={key:0,class:"loading"},_={key:1},S=["src","alt"];function y(e,t,o,s,a,n){const r=(0,i.g2)("swiper-slide"),l=(0,i.g2)("swiper");return(0,i.uX)(),(0,i.CE)("div",L,[t[0]||(t[0]=(0,i.Lk)("h1",null,"영화 정보 얻는 사이트",-1)),a.loading?((0,i.uX)(),(0,i.CE)("div",b,"Loading movies...")):((0,i.uX)(),(0,i.CE)("section",_,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.movieSections,(e=>((0,i.uX)(),(0,i.CE)("div",{class:"movie-section",key:e.title},[(0,i.Lk)("h2",null,(0,f.v_)(e.title),1),(0,i.bF)(l,{"slides-per-view":5,"space-between":"20",navigation:"",pagination:"",class:"movie-slider"},{default:(0,i.k6)((()=>[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(e.movies,(e=>((0,i.uX)(),(0,i.Wv)(r,{key:e.id,class:(0,f.C4)(n.getCardClass(e)),onClick:t=>n.toggleRecommendation(e)},{default:(0,i.k6)((()=>[(0,i.Lk)("img",{src:n.getPosterUrl(e.poster_path),alt:e.title,class:"movie-poster"},null,8,S),(0,i.Lk)("h3",null,(0,f.v_)(e.title),1),(0,i.Lk)("p",null,(0,f.v_)(n.truncateDescription(e.overview)),1),(0,i.Lk)("p",null,"⭐ Rating: "+(0,f.v_)(e.vote_average),1),(0,i.Lk)("p",null,"📅 Release: "+(0,f.v_)(e.release_date),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)])))),128))]))])}o(7642),o(8004),o(3853),o(5876),o(2475),o(5024),o(1698),o(8992),o(4520),o(3949),o(7550);var w=o(4335),P=o(8660),M={name:"HomePage",components:{Swiper:P.RC,SwiperSlide:P.qr},data(){return{movieSections:[{title:"인기 급상승 영화",movies:[]},{title:"최고 평점 영화",movies:[]},{title:"개봉 예정 영화",movies:[]},{title:"인기 영화",movies:[]}],recommendedMovies:[],loading:!0}},methods:{async fetchMovies(e,t,o=3){try{const s=[];for(let t=1;t<=o;t++){const o=await w.A.get(e,{params:{api_key:"338afe18473748636f29d4cb0fedaa87",page:t}});s.push(...o.data.results)}const i=this.removeDuplicates(s);this.movieSections[t].movies=i}catch(s){console.error(`Failed to fetch movies for ${this.movieSections[t].title}`,s)}},removeDuplicates(e){const t=[],o=new Set;return e.forEach((e=>{o.has(e.id)||(t.push(e),o.add(e.id))})),t},getPosterUrl(e){return`https://image.tmdb.org/t/p/w500${e}`},truncateDescription(e){return e.length>100?e.substring(0,100)+"...":e},toggleRecommendation(e){const t=this.recommendedMovies.some((t=>t.id===e.id));t?(this.recommendedMovies=this.recommendedMovies.filter((t=>t.id!==e.id)),alert(`${e.title} has been removed from your Wishlist.`)):(this.recommendedMovies.push(e),alert(`${e.title} has been added to your Wishlist.`)),this.saveToLocalStorage()},loadFromLocalStorage(){const e=localStorage.getItem("recommendedMovies");this.recommendedMovies=e?JSON.parse(e):[]},saveToLocalStorage(){localStorage.setItem("recommendedMovies",JSON.stringify(this.recommendedMovies))},getCardClass(e){const t=this.recommendedMovies.some((t=>t.id===e.id));return t?"movie-card recommended-card":"movie-card"}},async created(){const e=["https://api.themoviedb.org/3/trending/movie/day","https://api.themoviedb.org/3/movie/top_rated","https://api.themoviedb.org/3/movie/upcoming","https://api.themoviedb.org/3/movie/popular"],t=e.map(((e,t)=>this.fetchMovies(e,t,3)));await Promise.all(t),this.loadFromLocalStorage(),this.loading=!1}};const C=(0,d.A)(M,[["render",y],["__scopeId","data-v-c06fd554"]]);var I=C;const E={class:"popular"},F={class:"table-view"},O=["onClick"],A={class:"poster-container"},X=["src","alt"],W={class:"pagination"},K=["disabled"],T=["disabled"];function R(e,t,o,s,a,n){return(0,i.uX)(),(0,i.CE)("div",E,[t[3]||(t[3]=(0,i.Lk)("h1",null,"인기 영화",-1)),(0,i.Lk)("div",F,[(0,i.Lk)("table",null,[t[2]||(t[2]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"포스터"),(0,i.Lk)("th",null,"제목"),(0,i.Lk)("th",null,"개봉일"),(0,i.Lk)("th",null,"평점")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.currentPageMovies,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.id,onClick:t=>n.toggleWishlist(e),class:(0,f.C4)({added:n.isInWishlist(e)})},[(0,i.Lk)("td",null,[(0,i.Lk)("div",A,[(0,i.Lk)("img",{src:n.getPosterUrl(e.poster_path),alt:e.title},null,8,X)])]),(0,i.Lk)("td",null,(0,f.v_)(e.title),1),(0,i.Lk)("td",null,(0,f.v_)(e.release_date),1),(0,i.Lk)("td",null,(0,f.v_)(e.vote_average),1)],10,O)))),128))])]),(0,i.Lk)("div",W,[(0,i.Lk)("button",{disabled:1===a.currentPage,onClick:t[0]||(t[0]=(...e)=>n.prevPage&&n.prevPage(...e))}," Previous ",8,K),(0,i.Lk)("span",null,"Page "+(0,f.v_)(a.currentPage),1),(0,i.Lk)("button",{disabled:a.currentPage===a.totalPages,onClick:t[1]||(t[1]=(...e)=>n.nextPage&&n.nextPage(...e))}," Next ",8,T)])])])}var U={name:"PopularMovies",data(){return{movies:[],currentPage:1,totalPages:0,moviesPerPage:10,recommendedMovies:[]}},computed:{currentPageMovies(){const e=(this.currentPage-1)*this.moviesPerPage,t=e+this.moviesPerPage;return this.movies.slice(e,t)}},methods:{async fetchMovies(e=5){const t=[];for(let o=1;o<=e;o++){const e=await w.A.get("https://api.themoviedb.org/3/movie/popular",{params:{api_key:"338afe18473748636f29d4cb0fedaa87",page:o}});t.push(...e.data.results)}this.movies=this.removeDuplicates(t),this.totalPages=Math.ceil(this.movies.length/this.moviesPerPage)},getPosterUrl(e){return`https://image.tmdb.org/t/p/w500${e}`},isInWishlist(e){return this.recommendedMovies.some((t=>t.id===e.id))},toggleWishlist(e){const t=this.isInWishlist(e);t?this.recommendedMovies=this.recommendedMovies.filter((t=>t.id!==e.id)):this.recommendedMovies.push(e),this.saveToLocalStorage()},loadFromLocalStorage(){const e=localStorage.getItem("recommendedMovies");this.recommendedMovies=e?JSON.parse(e):[]},saveToLocalStorage(){localStorage.setItem("recommendedMovies",JSON.stringify(this.recommendedMovies))},removeDuplicates(e){const t=[],o=new Set;return e.forEach((e=>{o.has(e.id)||(t.push(e),o.add(e.id))})),t},prevPage(){this.currentPage>1&&this.currentPage--},nextPage(){this.currentPage<this.totalPages&&this.currentPage++}},async created(){await this.fetchMovies(5),this.loadFromLocalStorage()}};const N=(0,d.A)(U,[["render",R],["__scopeId","data-v-1968b24c"]]);var D=N;const j={class:"search-page"},G={class:"filters"},$={class:"filter-group"},x=["value"],J={class:"filter-group"},z=["value"],H={class:"filter-group"},V={class:"movie-table"},Y=["onClick"],q=["src","alt"];function B(e,t,o,a,n,r){return(0,i.uX)(),(0,i.CE)("div",j,[t[11]||(t[11]=(0,i.Lk)("h1",null,"영화 찾기",-1)),(0,i.Lk)("div",G,[(0,i.Lk)("div",$,[t[5]||(t[5]=(0,i.Lk)("label",{for:"genre"},"장르",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedGenre=e),id:"genre"},[t[4]||(t[4]=(0,i.Lk)("option",{value:""},"All",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.genres,(e=>((0,i.uX)(),(0,i.CE)("option",{key:e.id,value:e.id},(0,f.v_)(e.name),9,x)))),128))],512),[[s.u1,n.selectedGenre]])]),(0,i.Lk)("div",J,[t[7]||(t[7]=(0,i.Lk)("label",{for:"rating"},"평점",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[1]||(t[1]=e=>n.selectedRating=e),id:"rating"},[t[6]||(t[6]=(0,i.Lk)("option",{value:""},"All",-1)),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.ratingOptions,(e=>((0,i.uX)(),(0,i.CE)("option",{key:e,value:e},(0,f.v_)(e)+"+ ",9,z)))),128))],512),[[s.u1,n.selectedRating]])]),(0,i.Lk)("div",H,[t[9]||(t[9]=(0,i.Lk)("label",{for:"sort"},"정렬",-1)),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":t[2]||(t[2]=e=>n.selectedSort=e),id:"sort"},t[8]||(t[8]=[(0,i.Fv)('<option value="popularity.desc" data-v-9331a0c6>Popularity (High to Low)</option><option value="popularity.asc" data-v-9331a0c6>Popularity (Low to High)</option><option value="release_date.desc" data-v-9331a0c6>Release Date (New to Old)</option><option value="release_date.asc" data-v-9331a0c6>Release Date (Old to New)</option><option value="vote_average.desc" data-v-9331a0c6>Rating (High to Low)</option><option value="vote_average.asc" data-v-9331a0c6>Rating (Low to High)</option>',6)]),512),[[s.u1,n.selectedSort]])]),(0,i.Lk)("button",{class:"reset-btn",onClick:t[3]||(t[3]=(...e)=>r.resetFilters&&r.resetFilters(...e))},"초기화")]),(0,i.Lk)("div",V,[(0,i.Lk)("table",null,[t[10]||(t[10]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"포스터"),(0,i.Lk)("th",null,"제목"),(0,i.Lk)("th",null,"장르"),(0,i.Lk)("th",null,"평점"),(0,i.Lk)("th",null,"개봉일")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(r.filteredMovies,(e=>((0,i.uX)(),(0,i.CE)("tr",{key:e.id,onClick:t=>r.toggleWishlist(e),class:(0,f.C4)({added:r.isInWishlist(e)})},[(0,i.Lk)("td",null,[(0,i.Lk)("img",{src:r.getPosterUrl(e.poster_path),alt:e.title},null,8,q)]),(0,i.Lk)("td",null,(0,f.v_)(e.title),1),(0,i.Lk)("td",null,(0,f.v_)(r.getMovieGenres(e.genre_ids)),1),(0,i.Lk)("td",null,(0,f.v_)(e.vote_average),1),(0,i.Lk)("td",null,(0,f.v_)(e.release_date),1)],10,Y)))),128))])])])])}o(2577),o(1454);var Q={name:"SearchMovies",data(){return{movies:[],genres:[],recommendedMovies:[],selectedGenre:"",selectedRating:"",selectedSort:"popularity.desc",ratingOptions:[1,2,3,4,5,6,7,8,9,10]}},computed:{filteredMovies(){let e=[...this.movies];return this.selectedGenre&&(e=e.filter((e=>e.genre_ids.includes(parseInt(this.selectedGenre))))),this.selectedRating&&(e=e.filter((e=>e.vote_average>=this.selectedRating))),e.sort(((e,t)=>{const o=this.selectedSort.split(".")[0],s=this.selectedSort.includes(".desc")?-1:1;return(e[o]-t[o])*s})),e}},methods:{async fetchMovies(e=5){const t=[];for(let o=1;o<=e;o++){const e=await w.A.get("https://api.themoviedb.org/3/discover/movie",{params:{api_key:"338afe18473748636f29d4cb0fedaa87",page:o,sort_by:this.selectedSort}});t.push(...e.data.results)}this.movies=this.removeDuplicates(t)},async fetchGenres(){const e=await w.A.get("https://api.themoviedb.org/3/genre/movie/list",{params:{api_key:"338afe18473748636f29d4cb0fedaa87"}});this.genres=e.data.genres},getPosterUrl(e){return`https://image.tmdb.org/t/p/w500${e}`},getMovieGenres(e){return e.map((e=>this.genres.find((t=>t.id===e))?.name||"Unknown")).join(", ")},isInWishlist(e){return this.recommendedMovies.some((t=>t.id===e.id))},toggleWishlist(e){const t=this.isInWishlist(e);t?this.recommendedMovies=this.recommendedMovies.filter((t=>t.id!==e.id)):this.recommendedMovies.push(e),this.saveToLocalStorage()},loadFromLocalStorage(){const e=localStorage.getItem("recommendedMovies");this.recommendedMovies=e?JSON.parse(e):[]},saveToLocalStorage(){localStorage.setItem("recommendedMovies",JSON.stringify(this.recommendedMovies))},resetFilters(){this.selectedGenre="",this.selectedRating="",this.selectedSort="popularity.desc",this.fetchMovies()},removeDuplicates(e){const t=[],o=new Set;return e.forEach((e=>{o.has(e.id)||(t.push(e),o.add(e.id))})),t}},async created(){await Promise.all([this.fetchMovies(5),this.fetchGenres()]),this.loadFromLocalStorage()}};const Z=(0,d.A)(Q,[["render",B],["__scopeId","data-v-9331a0c6"]]);var ee=Z;const te={class:"wishlist"},oe={key:0,class:"wishlist-table"},se={class:"poster-container"},ie=["src","alt"],ae={class:"movie-title"},ne={class:"movie-rating"},re={class:"movie-release"},le=["onClick"],ce={key:1,class:"empty-message"};function de(e,t,o,s,a,n){return(0,i.uX)(),(0,i.CE)("div",te,[t[1]||(t[1]=(0,i.Lk)("h1",null,"즐겨찾기",-1)),a.recommendedMovies.length?((0,i.uX)(),(0,i.CE)("table",oe,[t[0]||(t[0]=(0,i.Lk)("thead",null,[(0,i.Lk)("tr",null,[(0,i.Lk)("th",null,"#"),(0,i.Lk)("th",null,"포스터"),(0,i.Lk)("th",null,"제목"),(0,i.Lk)("th",null,"평점"),(0,i.Lk)("th",null,"개봉일"),(0,i.Lk)("th",null,"상태")])],-1)),(0,i.Lk)("tbody",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(a.recommendedMovies,((e,t)=>((0,i.uX)(),(0,i.CE)("tr",{key:e.id,class:"wishlist-row"},[(0,i.Lk)("td",null,(0,f.v_)(t+1),1),(0,i.Lk)("td",null,[(0,i.Lk)("div",se,[(0,i.Lk)("img",{src:n.getPosterUrl(e.poster_path),alt:e.title,class:"movie-poster"},null,8,ie)])]),(0,i.Lk)("td",ae,(0,f.v_)(e.title),1),(0,i.Lk)("td",ne,"⭐ "+(0,f.v_)(e.vote_average),1),(0,i.Lk)("td",re,(0,f.v_)(e.release_date),1),(0,i.Lk)("td",null,[(0,i.Lk)("button",{onClick:t=>n.removeFromWishlist(e),class:"remove-button"}," 제거 ",8,le)])])))),128))])])):((0,i.uX)(),(0,i.CE)("div",ce,"즐겨찾기 한 영화가 없습니다."))])}var ue={name:"MovieWishlist",data(){return{recommendedMovies:[]}},methods:{getPosterUrl(e){return`https://image.tmdb.org/t/p/w500${e}`},removeFromWishlist(e){this.recommendedMovies=this.recommendedMovies.filter((t=>t.id!==e.id)),this.saveToLocalStorage()},loadFromLocalStorage(){const e=localStorage.getItem("recommendedMovies");e&&(this.recommendedMovies=JSON.parse(e))},saveToLocalStorage(){localStorage.setItem("recommendedMovies",JSON.stringify(this.recommendedMovies))}},created(){this.loadFromLocalStorage()}};const ve=(0,d.A)(ue,[["render",de],["__scopeId","data-v-4aebf4fb"]]);var he=ve;function me(e,t,o,s,a,n){return(0,i.uX)(),(0,i.CE)("div",null,t[0]||(t[0]=[(0,i.Lk)("h1",null,"Processing Login...",-1)]))}o(4603),o(7566),o(8721);var ge={name:"KakaoCallback",setup(){(0,i.sV)((async()=>{const t=new URLSearchParams(window.location.search),o=t.get("code");if(o){console.log("Authorization Code:",o);try{const t=await fetch("https://kauth.kakao.com/oauth/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({grant_type:"authorization_code",client_id:"YOUR_KAKAO_CLIENT_ID",redirect_uri:"http://localhost:3000/callback",code:o})}),s=await t.json();s.access_token?(console.log("Access Token:",s.access_token),localStorage.setItem("kakaoAccessToken",s.access_token),e(s.access_token)):console.error("Failed to get access token:",s)}catch(s){console.error("Error during token request:",s)}}else console.error("No authorization code found.")}));const e=async e=>{try{const t=await fetch("https://kapi.kakao.com/v2/user/me",{method:"GET",headers:{Authorization:`Bearer ${e}`}}),o=await t.json();console.log("User Profile:",o),alert(`Welcome, ${o.properties.nickname}`)}catch(t){console.error("Failed to fetch user profile:",t)}}}};const pe=(0,d.A)(ge,[["render",me]]);var ke=pe;const fe=[{path:"/",name:"Home",component:I},{path:"/signin",name:"SignIn",component:k},{path:"/popular",name:"Popular",component:D},{path:"/search",name:"Search",component:ee},{path:"/wishlist",name:"Wishlist",component:he},{path:"/callback",component:ke}],Le=(0,h.aE)({history:(0,h.LA)("/Kakao-login/"),routes:fe});var be=Le,_e=o(5246);o(7917);const Se=(0,s.Ef)(v);Se.use(be),Se.use(_e.Ay,{position:"top-right",timeout:3e3}),Se.mount("#app")}},t={};function o(s){var i=t[s];if(void 0!==i)return i.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,s,i,a){if(!s){var n=1/0;for(d=0;d<e.length;d++){s=e[d][0],i=e[d][1],a=e[d][2];for(var r=!0,l=0;l<s.length;l++)(!1&a||n>=a)&&Object.keys(o.O).every((function(e){return o.O[e](s[l])}))?s.splice(l--,1):(r=!1,a<n&&(n=a));if(r){e.splice(d--,1);var c=i();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[s,i,a]}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={524:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var i,a,n=s[0],r=s[1],l=s[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(i in r)o.o(r,i)&&(o.m[i]=r[i]);if(l)var d=l(o)}for(t&&t(s);c<n.length;c++)a=n[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},s=self["webpackChunkassign2"]=self["webpackChunkassign2"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[504],(function(){return o(43)}));s=o.O(s)})();
//# sourceMappingURL=app.60c0d6c4.js.map